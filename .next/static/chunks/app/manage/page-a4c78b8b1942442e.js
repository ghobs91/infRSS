(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var l=r(5155);let a=e=>{let{className:t="",variant:r="default",children:a,...s}=e;return(0,l.jsx)("button",{className:"".concat("font-semibold px-4 py-2 rounded-xl shadow-sm transition-colors"," ").concat({default:"bg-blue-600 hover:bg-blue-700 text-white",destructive:"bg-red-600 hover:bg-red-700 text-white"}[r]," ").concat(t),...s,children:a})}},3184:(e,t,r)=>{"use strict";async function l(e){try{let t=await s(e),r=await t.text(),l=new DOMParser().parseFromString(r,"text/html").querySelector('link[type="application/rss+xml"], link[rel="alternate"][type="application/rss+xml"]');if(l&&l.getAttribute("href")){let t=l.getAttribute("href");return new URL(t,e).toString()}return null}catch(e){return console.error("Failed to resolve feed URL:",e),null}}async function a(e){try{var t;let r=await s(e),l=await r.text(),a=new DOMParser().parseFromString(l,"application/xml"),n=(null===(t=a.querySelector("channel > title"))||void 0===t?void 0:t.textContent)||"Untitled Feed",o=[];return a.querySelectorAll("item").forEach(e=>{var t,r,l;let a=(null===(t=e.querySelector("title"))||void 0===t?void 0:t.textContent)||"(No title)",s=(null===(r=e.querySelector("link"))||void 0===r?void 0:r.textContent)||"",n=(null===(l=e.querySelector("pubDate"))||void 0===l?void 0:l.textContent)||"",c=e.querySelector("media\\:content, enclosure"),i=(null==c?void 0:c.getAttribute("url"))||void 0,u=s?new URL(s).hostname.replace("www.",""):"";o.push({title:a,link:s,pubDate:n,thumbnail:i,sourceDomain:u})}),{title:n,items:o}}catch(e){return console.error("Failed to fetch or parse RSS:",e),null}}r.d(t,{HY:()=>o,k4:()=>n,ky:()=>c,nf:()=>a,xE:()=>l});let s=async e=>fetch("https://api.allorigins.win/raw?url=".concat(encodeURIComponent(e)));function n(e){let t=localStorage.getItem("feeds"),r=t?JSON.parse(t):[];if(!r.find(t=>t.url===e.url)){let t=[...r,e];localStorage.setItem("feeds",JSON.stringify(t))}}function o(){let e=localStorage.getItem("feeds");return e?JSON.parse(e):[]}function c(e){let t=localStorage.getItem("feeds"),r=(t?JSON.parse(t):[]).filter(t=>t.url!==e);localStorage.setItem("feeds",JSON.stringify(r))}},6695:(e,t,r)=>{"use strict";r.d(t,{W:()=>s,Z:()=>a});var l=r(5155);r(2115);let a=e=>{let{className:t,children:r,...a}=e;return(0,l.jsx)("div",{className:" border border-gray-800 rounded-2xl shadow p-4 ".concat(t),...a,children:r})},s=e=>{let{className:t,children:r,...a}=e;return(0,l.jsx)("div",{className:"space-y-1 ".concat(t),...a,children:r})}},8134:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var l=r(5155),a=r(2115),s=r(6695),n=r(285),o=r(3184);function c(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{t((0,o.HY)())},[]);let r=e=>{(0,o.ky)(e),t(t=>t.filter(t=>t.url!==e))};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Manage Subscriptions"}),0===e.length?(0,l.jsx)("p",{className:"text-gray-500",children:"You have no saved feeds."}):e.map(e=>{let t=new URL(e.url).hostname.replace("www.","");return(0,l.jsxs)(s.Z,{className:"border border-gray-800 shadow-sm flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)(s.W,{className:"flex-1 p-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("img",{src:"https://www.google.com/s2/favicons?sz=16&domain_url=".concat(e.url),className:"w-4 h-4",alt:"favicon"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:t})]}),(0,l.jsx)("p",{className:"font-medium text-gray-800 break-words",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-gray-500 break-all",children:e.url})]}),(0,l.jsx)("div",{className:"px-4 pb-4 sm:pb-0",children:(0,l.jsx)(n.$,{onClick:()=>r(e.url),variant:"destructive",children:"Remove"})})]},e.url)})]})}},8181:(e,t,r)=>{Promise.resolve().then(r.bind(r,8134))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8181)),_N_E=e.O()}]);