"use strict";(()=>{var e={};e.id=751,e.ids=[751],e.modules={974:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>c});var n=r(4216),o=e([n]);(n=(o.then?(await o)():o)[0]).env.backends.onnx="wasm",n.env.allowLocalModels=!1,n.env.useBrowserCache=!0;let u=null;async function i(){return u||(u=await (0,n.pipeline)("feature-extraction","Xenova/all-MiniLM-L6-v2")),u}async function s(e){let t=encodeURIComponent(`${e} site:medium.com OR site:substack.com OR site:dev.to OR inurl:rss`),r=`https://www.google.com/search?q=${t}`,a=await fetch(r,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"}});return await a.text()}async function c(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let{topic:r}=e.body,a=[...(await s(r)).matchAll(/https?:\/\/[^\s"']+\.(rss|xml)/gi)].map(e=>e[0]).slice(0,10),n=[];for(let e of a)try{let t=await fetch(e),r=await t.text(),a=r.match(/<title>(.*?)<\/title>/)?.[1]||e;n.push({title:a,url:e})}catch(t){console.warn(`Failed to fetch feed at ${e} due to error: ${t}`)}let o=await i(),c=(await o(r))[0][0],u=await Promise.all(n.map(async e=>{let t=(await o(e.title))[0][0],r=function(e,t){let r=e.reduce((e,r,a)=>e+r*t[a],0),a=Math.sqrt(e.reduce((e,t)=>e+t*t,0)),n=Math.sqrt(t.reduce((e,t)=>e+t*t,0));return r/(a*n)}(c,t);return{...e,score:r}}));t.status(200).json(u.sort((e,t)=>t.score-e.score).slice(0,5))}catch(e){console.error("Suggestion API error:",e),t.status(500).json({error:"Failed to process suggestions."})}}a()}catch(e){a(e)}})},3480:(e,t,r)=>{e.exports=r(5600)},4216:e=>{e.exports=import("@xenova/transformers")},4748:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>l,default:()=>u,routeModule:()=>d});var n=r(3480),o=r(8667),i=r(6435),s=r(974),c=e([s]);s=(c.then?(await c)():c)[0];let u=(0,i.M)(s,"default"),l=(0,i.M)(s,"config"),d=new n.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/suggest",pathname:"/api/suggest",bundlePath:"",filename:""},userland:s});a()}catch(e){a(e)}})},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=4748);module.exports=r})();